<!DOCTYPE html>
<html lang="de">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Spieler Übersicht mit Sortierung</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 20px;
      background: #f0f0f0;
    }

    #sortButtons {
      margin-bottom: 15px;
    }

    #sortButtons button {
      margin-right: 10px;
      padding: 8px 12px;
      cursor: pointer;
      border: none;
      border-radius: 4px;
      background-color: #007bff;
      color: white;
      font-weight: bold;
      transition: background-color 0.3s;
    }

    #sortButtons button:hover {
      background-color: #0056b3;
    }

    .player-list {
      display: flex;
      flex-wrap: wrap;
      gap: 20px;
    }

    .player-card {
      background: white;
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
      width: 220px;
      padding: 15px;
      text-align: center;
    }

    .player-card img {
      width: 120px;
      height: 120px;
      border-radius: 50%;
      object-fit: cover;
      margin-bottom: 10px;
    }

    .player-name {
      font-weight: bold;
      font-size: 1.2em;
    }

    .player-position {
      font-style: italic;
      color: #555;
      margin-bottom: 8px;
    }
  </style>
</head>

<body>

  <a href="index.html" title="Zurück zur Startseite"
    style="font-size: 20px; text-decoration: none; color: #333; padding: 4px 8px; border: 1px solid #ccc; border-radius: 4px; cursor: pointer;">←</a>

  <h1>Spieler Übersicht (Düsseldorf1)</h1>

  <div id="sortButtons">
    <button id="sortPoints">Nach Punkten sortieren ↓</button>
    <button id="sortRatio">Nach Punkte/Preis sortieren ↓</button>
  </div>

  <div id="players" class="player-list"></div>

  <script>
    const firestoreData = {
      "players": {
        "arrayValue": {
          "values": [
            {
              "mapValue": {
                "fields": {
                  "lastName": {
                    "stringValue": "Henning"
                  },
                  "price": {
                    "integerValue": "35"
                  },
                  "fantasyPoints": {
                    "doubleValue": 100.1449237298076
                  },
                  "id": {
                    "stringValue": "2170783"
                  },
                  "position": {
                    "stringValue": "Block"
                  },
                  "firstName": {
                    "stringValue": "Paul"
                  },
                  "gender": {
                    "stringValue": "M"
                  },
                  "imagePath": {
                    "stringValue": "https://firebasestorage.googleapis.com/v0/b/beach-pro-tour-fantasy.appspot.com/o/gbt%2Fplayers%2FPaul-Henning-Bunt.png?alt=media&token=5e9af87a-0408-44ff-9156-60baa77582c4"
                  },
                  "bitID": {
                    "integerValue": "1"
                  }

                }
              }
            },
            {
              "mapValue": {
                "fields": {
                  "lastName": {
                    "stringValue": "Wüst"
                  },
                  "firstName": {
                    "stringValue": "Lui"
                  },
                  "imagePath": {
                    "stringValue": "https://firebasestorage.googleapis.com/v0/b/beach-pro-tour-fantasy.appspot.com/o/gbt%2Fplayers%2FLui-Wu%CC%88st-Bunt.png?alt=media&token=b039a679-7a93-41d9-85a8-e1abc2d69e6e"
                  },
                  "bitID": {
                    "integerValue": "2"
                  },
                  "gender": {
                    "stringValue": "M"
                  },
                  "id": {
                    "stringValue": "2171039"
                  },
                  "position": {
                    "stringValue": "Abwehr"
                  },
                  "price": {
                    "integerValue": "30"
                  },
                  "fantasyPoints": {
                    "doubleValue": 57.994705001258254
                  }
                }
              }
            },
            {
              "mapValue": {
                "fields": {
                  "fantasyPoints": {
                    "doubleValue": 44.827450980392157
                  },
                  "id": {
                    "stringValue": "2191796"
                  },
                  "firstName": {
                    "stringValue": "Sandra"
                  },
                  "imagePath": {
                    "stringValue": "https://firebasestorage.googleapis.com/v0/b/beach-pro-tour-fantasy.appspot.com/o/gbt%2Fplayers%2FSandra-Ittlinger-Bunt.png?alt=media&token=ad452fef-ad0b-4a06-bcfe-d6aae1575694"
                  },
                  "bitID": {
                    "integerValue": "4"
                  },
                  "gender": {
                    "stringValue": "W"
                  },
                  "price": {
                    "integerValue": "40"
                  },
                  "position": {
                    "stringValue": "Block"
                  },
                  "lastName": {
                    "stringValue": "Ittlinger"
                  }
                }
              }
            },
            {
              "mapValue": {
                "fields": {
                  "bitID": {
                    "integerValue": "8"
                  },
                  "fantasyPoints": {
                    "doubleValue": 66.803030303030312
                  },
                  "lastName": {
                    "stringValue": "Olimstad"
                  },
                  "id": {
                    "stringValue": "2468796"
                  },
                  "firstName": {
                    "stringValue": "Emilie"
                  },
                  "position": {
                    "stringValue": "Abwehr"
                  },
                  "gender": {
                    "stringValue": "W"
                  },
                  "imagePath": {
                    "stringValue": "https://app.germanbeachtour.de/players/img/Emilie-Olimstad-Blau.png"
                  },
                  "price": {
                    "integerValue": "35"
                  }
                }
              }
            },
            {
              "mapValue": {
                "fields": {
                  "imagePath": {
                    "stringValue": "https://firebasestorage.googleapis.com/v0/b/beach-pro-tour-fantasy.appspot.com/o/gbt%2Fplayers%2FLukas-Pfretzschner-Bunt.png?alt=media&token=b6519092-a794-4aed-ad81-fe43e8b5e4ab"
                  },
                  "price": {
                    "integerValue": "45"
                  },
                  "fantasyPoints": {
                    "doubleValue": 89.61110736265735
                  },
                  "firstName": {
                    "stringValue": "Lukas"
                  },
                  "gender": {
                    "stringValue": "M"
                  },
                  "position": {
                    "stringValue": "Hybrid"
                  },
                  "lastName": {
                    "stringValue": "Pfretzschner"
                  },
                  "id": {
                    "stringValue": "2170781"
                  },
                  "bitID": {
                    "integerValue": "16"
                  }


                }
              }
            },
            {
              "mapValue": {
                "fields": {
                  "imagePath": {
                    "stringValue": "https://firebasestorage.googleapis.com/v0/b/beach-pro-tour-fantasy.appspot.com/o/gbt%2Fplayers%2FSven-Winter-Bunt.png?alt=media&token=a5ccf427-0786-4bf0-b1c5-75ccefa5cdb9"
                  },
                  "lastName": {
                    "stringValue": "Winter"
                  },
                  "fantasyPoints": {
                    "doubleValue": 59.202634996302159
                  },
                  "id": {
                    "stringValue": "2170782"
                  },
                  "position": {
                    "stringValue": "Hybrid"
                  },
                  "gender": {
                    "stringValue": "M"
                  },
                  "price": {
                    "integerValue": "40"
                  },
                  "bitID": {
                    "integerValue": "32"
                  },
                  "firstName": {
                    "stringValue": "Sven"
                  }
                }
              }
            },
            {
              "mapValue": {
                "fields": {
                  "bitID": {
                    "integerValue": "64"
                  },
                  "price": {
                    "integerValue": "30"
                  },
                  "fantasyPoints": {
                    "doubleValue": 63.06641604010025
                  },
                  "id": {
                    "stringValue": "2170807"
                  },
                  "firstName": {
                    "stringValue": "Lea"
                  },
                  "position": {
                    "stringValue": "Hybrid"
                  },
                  "gender": {
                    "stringValue": "W"
                  },
                  "imagePath": {
                    "stringValue": "https://firebasestorage.googleapis.com/v0/b/beach-pro-tour-fantasy.appspot.com/o/gbt%2Fplayers%2FLea-Kunst-Bunt.png?alt=media&token=cc5253ed-1d9a-4790-abac-332a24c7052b"
                  },
                  "lastName": {
                    "stringValue": "Kunst"
                  }
                }
              }
            },
            {
              "mapValue": {
                "fields": {
                  "bitID": {
                    "integerValue": "128"
                  },
                  "id": {
                    "stringValue": "2170804"
                  },
                  "price": {
                    "integerValue": "25"
                  },
                  "firstName": {
                    "stringValue": "Melanie"
                  },
                  "gender": {
                    "stringValue": "W"
                  },
                  "position": {
                    "stringValue": "Hybrid"
                  },
                  "imagePath": {
                    "stringValue": "https://firebasestorage.googleapis.com/v0/b/beach-pro-tour-fantasy.appspot.com/o/gbt%2Fplayers%2FMelanie-Paul-Bunt.png?alt=media&token=ddeac7ce-2938-4fe2-8f43-a803f0116a88"
                  },
                  "fantasyPoints": {
                    "doubleValue": 68.988944099378884
                  },
                  "lastName": {
                    "stringValue": "Paul"
                  }
                }
              }
            },
            {
              "mapValue": {
                "fields": {
                  "imagePath": {
                    "stringValue": "https://firebasestorage.googleapis.com/v0/b/beach-pro-tour-fantasy.appspot.com/o/gbt%2Fplayers%2FPaula-Schuerholz-Bunt.png?alt=media&token=eeec5f5d-1c9f-4891-8376-150da4dc9f02"
                  },
                  "fantasyPoints": {
                    "doubleValue": 122.21167413938511
                  },
                  "firstName": {
                    "stringValue": "Paula"
                  },
                  "position": {
                    "stringValue": "Abwehr"
                  },
                  "lastName": {
                    "stringValue": "Schürholz"
                  },
                  "id": {
                    "stringValue": "2171043"
                  },
                  "gender": {
                    "stringValue": "W"
                  },
                  "bitID": {
                    "integerValue": "256"
                  },
                  "price": {
                    "integerValue": "30"
                  }
                }
              }
            },
            {
              "mapValue": {
                "fields": {
                  "bitID": {
                    "integerValue": "512"
                  },
                  "id": {
                    "stringValue": "2170818"
                  },
                  "fantasyPoints": {
                    "doubleValue": 104.8523417927467
                  },
                  "position": {
                    "stringValue": "Block"
                  },
                  "lastName": {
                    "stringValue": "Uhl"
                  },
                  "price": {
                    "integerValue": "30"
                  },
                  "imagePath": {
                    "stringValue": "https://firebasestorage.googleapis.com/v0/b/beach-pro-tour-fantasy.appspot.com/o/gbt%2Fplayers%2FJanne-Uhl-Bunt.png?alt=media&token=30f89c11-f822-4095-befc-12285970c87a"
                  },
                  "gender": {
                    "stringValue": "W"
                  },
                  "firstName": {
                    "stringValue": "Janne"
                  }
                }
              }
            },
            {
              "mapValue": {
                "fields": {
                  "price": {
                    "integerValue": "30"
                  },
                  "bitID": {
                    "integerValue": "1024"
                  },
                  "imagePath": {
                    "stringValue": "https://firebasestorage.googleapis.com/v0/b/beach-pro-tour-fantasy.appspot.com/o/gbt%2Fplayers%2FDaniel-Kirchner-Bunt.png?alt=media&token=07a031bb-2900-42d3-9715-b020c1ce32e9"
                  },
                  "position": {
                    "stringValue": "Block"
                  },
                  "lastName": {
                    "stringValue": "Kirchner"
                  },
                  "firstName": {
                    "stringValue": "Daniel"
                  },
                  "gender": {
                    "stringValue": "M"
                  },
                  "id": {
                    "stringValue": "2170793"
                  },
                  "fantasyPoints": {
                    "doubleValue": 66.148271912339155
                  }
                }
              }
            },
            {
              "mapValue": {
                "fields": {
                  "fantasyPoints": {
                    "doubleValue": 45.386359639707507
                  },
                  "price": {
                    "integerValue": "30"
                  },
                  "firstName": {
                    "stringValue": "Eric"
                  },
                  "id": {
                    "stringValue": "2170787"
                  },
                  "position": {
                    "stringValue": "Abwehr"
                  },
                  "lastName": {
                    "stringValue": "Stadie-Seeber"
                  },
                  "gender": {
                    "stringValue": "M"
                  },
                  "bitID": {
                    "integerValue": "2048"
                  },
                  "imagePath": {
                    "stringValue": "https://firebasestorage.googleapis.com/v0/b/beach-pro-tour-fantasy.appspot.com/o/gbt%2Fplayers%2FEric-Stadie-Bunt.png?alt=media&token=db5b696a-fb25-4a56-a7e1-26ab64afc7ce"
                  }
                }
              }
            },
            {
              "mapValue": {
                "fields": {
                  "bitID": {
                    "integerValue": "4096"
                  },
                  "id": {
                    "stringValue": "2170802"
                  },
                  "lastName": {
                    "stringValue": "Behlen"
                  },
                  "imagePath": {
                    "stringValue": "https://firebasestorage.googleapis.com/v0/b/beach-pro-tour-fantasy.appspot.com/o/gbt%2Fplayers%2FAnna-Behlen-Bunt.png?alt=media&token=7aa5d821-72b1-4324-8e0a-ea96332514df"
                  },
                  "fantasyPoints": {
                    "doubleValue": 53.272723655452978
                  },
                  "gender": {
                    "stringValue": "W"
                  },
                  "position": {
                    "stringValue": "Abwehr"
                  },
                  "firstName": {
                    "stringValue": "Anna"
                  },
                  "price": {
                    "integerValue": "25"
                  }
                }
              }
            },
            {
              "mapValue": {
                "fields": {
                  "bitID": {
                    "integerValue": "8192"
                  },
                  "fantasyPoints": {
                    "doubleValue": 41.354509193100434
                  },
                  "firstName": {
                    "stringValue": "Chenoa"
                  },
                  "imagePath": {
                    "stringValue": "https://firebasestorage.googleapis.com/v0/b/beach-pro-tour-fantasy.appspot.com/o/gbt%2Fplayers%2FChenoa_Christ_Bunt.png?alt=media&token=e79127eb-1dc4-45f7-a6c8-f416cfba91ab"
                  },
                  "gender": {
                    "stringValue": "W"
                  },
                  "position": {
                    "stringValue": "Block"
                  },
                  "id": {
                    "stringValue": "2170800"
                  },
                  "lastName": {
                    "stringValue": "Christ"
                  },
                  "price": {
                    "integerValue": "15"
                  }
                }
              }
            },
            {
              "mapValue": {
                "fields": {
                  "bitID": {
                    "integerValue": "16384"
                  },
                  "fantasyPoints": {
                    "doubleValue": 47.657887235016673
                  },
                  "price": {
                    "integerValue": "20"
                  },
                  "lastName": {
                    "stringValue": "Kühlborn"
                  },
                  "imagePath": {
                    "stringValue": "https://firebasestorage.googleapis.com/v0/b/beach-pro-tour-fantasy.appspot.com/o/gbt%2Fplayers%2FJannik-Ku%CC%88hlborn-Bunt.png?alt=media&token=78713084-1d7d-49c8-a21a-b1d6623cc7a5"
                  },
                  "id": {
                    "stringValue": "2468797"
                  },
                  "position": {
                    "stringValue": "Block"
                  },
                  "gender": {
                    "stringValue": "M"
                  },
                  "firstName": {
                    "stringValue": "Jannik"
                  }
                }
              }
            },
            {
              "mapValue": {
                "fields": {
                  "imagePath": {
                    "stringValue": "https://firebasestorage.googleapis.com/v0/b/beach-pro-tour-fantasy.appspot.com/o/gbt%2Fplayers%2FSimon-Pfretzschner-Bunt.png?alt=media&token=d01c346e-0060-4a98-b7a3-b9088952144c"
                  },
                  "fantasyPoints": {
                    "doubleValue": 43.483827514271447
                  },
                  "lastName": {
                    "stringValue": "Pfretzschner"
                  },
                  "firstName": {
                    "stringValue": "Simon"
                  },
                  "gender": {
                    "stringValue": "M"
                  },
                  "position": {
                    "stringValue": "Abwehr"
                  },
                  "bitID": {
                    "integerValue": "32768"
                  },
                  "id": {
                    "stringValue": "2468798"
                  },
                  "price": {
                    "integerValue": "15"
                  }
                }
              }
            },
            {
              "mapValue": {
                "fields": {
                  "fantasyPoints": {
                    "doubleValue": 48.019047619047619
                  },
                  "bitID": {
                    "integerValue": "65536"
                  },
                  "price": {
                    "integerValue": "15"
                  },
                  "imagePath": {
                    "stringValue": "https://firebasestorage.googleapis.com/v0/b/beach-pro-tour-fantasy.appspot.com/o/gbt%2Fplayers%2FNele-Barber-Bunt.png?alt=media&token=6f286dc5-cc1b-4d24-9c76-54305a74d631"
                  },
                  "id": {
                    "stringValue": "2170812"
                  },
                  "position": {
                    "stringValue": "Block"
                  },
                  "gender": {
                    "stringValue": "W"
                  },
                  "lastName": {
                    "stringValue": "Barber"
                  },
                  "firstName": {
                    "stringValue": "Nele"
                  }
                }
              }
            },
            {
              "mapValue": {
                "fields": {
                  "price": {
                    "integerValue": "20"
                  },
                  "firstName": {
                    "stringValue": "Melanie"
                  },
                  "fantasyPoints": {
                    "doubleValue": 57.875314228255405
                  },
                  "bitID": {
                    "integerValue": "131072"
                  },
                  "imagePath": {
                    "stringValue": "https://firebasestorage.googleapis.com/v0/b/beach-pro-tour-fantasy.appspot.com/o/gbt%2Fplayers%2FMelanie-Gernert-Bunt.png?alt=media&token=8c755cfc-f42d-406e-bb32-b23791ab778f"
                  },
                  "position": {
                    "stringValue": "Abwehr"
                  },
                  "gender": {
                    "stringValue": "W"
                  },
                  "lastName": {
                    "stringValue": "Gernert"
                  },
                  "id": {
                    "stringValue": "2170813"
                  }
                }
              }
            },
            {
              "mapValue": {
                "fields": {
                  "id": {
                    "stringValue": "2468799"
                  },
                  "lastName": {
                    "stringValue": "Poniewaz"
                  },
                  "firstName": {
                    "stringValue": "David"
                  },
                  "imagePath": {
                    "stringValue": "https://firebasestorage.googleapis.com/v0/b/beach-pro-tour-fantasy.appspot.com/o/gbt%2Fplayers%2FDavid-Poniewaz-Bunt.png?alt=media&token=8baed274-73fc-43ae-80f4-81d15786315a"
                  },
                  "gender": {
                    "stringValue": "M"
                  },
                  "position": {
                    "stringValue": "Block"
                  },
                  "price": {
                    "integerValue": "25"
                  },
                  "fantasyPoints": {
                    "doubleValue": 75.977976645023688
                  },
                  "bitID": {
                    "integerValue": "262144"
                  }
                }
              }
            },
            {
              "mapValue": {
                "fields": {
                  "firstName": {
                    "stringValue": "Bennet"
                  },
                  "gender": {
                    "stringValue": "M"
                  },
                  "position": {
                    "stringValue": "Abwehr"
                  },
                  "id": {
                    "stringValue": "2170784"
                  },
                  "bitID": {
                    "integerValue": "524288"
                  },
                  "price": {
                    "integerValue": "25"
                  },
                  "imagePath": {
                    "stringValue": "https://firebasestorage.googleapis.com/v0/b/beach-pro-tour-fantasy.appspot.com/o/gbt%2Fplayers%2FBennet-Poniewaz-Bunt.png?alt=media&token=87fd5982-257b-49af-b8bc-98a7d57260ef"
                  },
                  "fantasyPoints": {
                    "doubleValue": 105.70279320480952
                  },
                  "lastName": {
                    "stringValue": "Poniewaz"
                  }
                }
              }
            },
            {
              "mapValue": {
                "fields": {
                  "price": {
                    "integerValue": "15"
                  },
                  "lastName": {
                    "stringValue": "Ferger"
                  },
                  "gender": {
                    "stringValue": "W"
                  },
                  "position": {
                    "stringValue": "Abwehr"
                  },
                  "firstName": {
                    "stringValue": "Sandra"
                  },
                  "id": {
                    "stringValue": "2170810"
                  },
                  "bitID": {
                    "integerValue": "1048576"
                  },
                  "imagePath": {
                    "stringValue": "https://firebasestorage.googleapis.com/v0/b/beach-pro-tour-fantasy.appspot.com/o/gbt%2Fplayers%2FSandra-Ferger-Bunt.png?alt=media&token=5afbdd71-913a-4132-84f2-e252f100ffb2"
                  },
                  "fantasyPoints": {
                    "doubleValue": 8.8181780290830556
                  }
                }
              }
            },
            {
              "mapValue": {
                "fields": {
                  "bitID": {
                    "integerValue": "2097152"
                  },
                  "price": {
                    "integerValue": "15"
                  },
                  "fantasyPoints": {
                    "doubleValue": 13.14285314765139
                  },
                  "imagePath": {
                    "stringValue": "https://app.germanbeachtour.de/players/img/Sarah-Schneider-Blau.png"
                  },
                  "gender": {
                    "stringValue": "W"
                  },
                  "id": {
                    "stringValue": "2171384"
                  },
                  "position": {
                    "stringValue": "Hybrid"
                  },
                  "lastName": {
                    "stringValue": "Schneider"
                  },
                  "firstName": {
                    "stringValue": "Sarah"
                  }
                }
              }
            },
            {
              "mapValue": {
                "fields": {
                  "firstName": {
                    "stringValue": "Luis"
                  },
                  "lastName": {
                    "stringValue": "Kubo"
                  },
                  "bitID": {
                    "integerValue": "4194304"
                  },
                  "imagePath": {
                    "stringValue": "https://firebasestorage.googleapis.com/v0/b/beach-pro-tour-fantasy.appspot.com/o/gbt%2Fplayers%2FLuis-Kubo-Pink.png?alt=media&token=7001ba48-82e2-4d5d-9b37-82ea5c2db77a"
                  },
                  "id": {
                    "stringValue": "2170797"
                  },
                  "position": {
                    "stringValue": "Abwehr"
                  },
                  "fantasyPoints": {
                    "doubleValue": 26.259221295988723
                  },
                  "gender": {
                    "stringValue": "M"
                  },
                  "price": {
                    "integerValue": "15"
                  }
                }
              }
            },
            {
              "mapValue": {
                "fields": {
                  "id": {
                    "stringValue": "2116259"
                  },
                  "price": {
                    "integerValue": "10"
                  },
                  "firstName": {
                    "stringValue": "Manuel"
                  },
                  "bitID": {
                    "integerValue": "8388608"
                  },
                  "fantasyPoints": {
                    "doubleValue": 33.999961146187474
                  },
                  "position": {
                    "stringValue": "Block"
                  },
                  "lastName": {
                    "stringValue": "M. Harms"
                  },
                  "gender": {
                    "stringValue": "M"
                  },
                  "imagePath": {
                    "stringValue": "https://firebasestorage.googleapis.com/v0/b/beach-pro-tour-fantasy.appspot.com/o/gbt%2Fplayers%2FManuel-Harms-Bunt.png?alt=media&token=d22cad48-e210-422d-a897-00bd11623c95"
                  }
                }
              }
            },
            {
              "mapValue": {
                "fields": {
                  "firstName": {
                    "stringValue": "Niklas"
                  },
                  "fantasyPoints": {
                    "doubleValue": 100.63482112130221
                  },
                  "bitID": {
                    "integerValue": "16777216"
                  },
                  "gender": {
                    "stringValue": "M"
                  },
                  "id": {
                    "stringValue": "2116263"
                  },
                  "lastName": {
                    "stringValue": "Held"
                  },
                  "position": {
                    "stringValue": "Block"
                  },
                  "imagePath": {
                    "stringValue": "https://firebasestorage.googleapis.com/v0/b/beach-pro-tour-fantasy.appspot.com/o/gbt%2Fplayers%2FNiklas-Held-Bunt.png?alt=media&token=33e42b2f-3e5e-4e86-aa6f-15b46ffffee9"
                  },
                  "price": {
                    "integerValue": "15"
                  }
                }
              }
            },
            {
              "mapValue": {
                "fields": {
                  "lastName": {
                    "stringValue": "Nissen"
                  },
                  "firstName": {
                    "stringValue": "Hennes"
                  },
                  "price": {
                    "integerValue": "15"
                  },
                  "gender": {
                    "stringValue": "M"
                  },
                  "position": {
                    "stringValue": "Abwehr"
                  },
                  "bitID": {
                    "integerValue": "33554432"
                  },
                  "fantasyPoints": {
                    "doubleValue": 72.349646397748941
                  },
                  "id": {
                    "stringValue": "2116264"
                  },
                  "imagePath": {
                    "stringValue": "https://firebasestorage.googleapis.com/v0/b/beach-pro-tour-fantasy.appspot.com/o/gbt%2Fplayers%2FHennes_Nissen_Bunt.png?alt=media&token=f240e0b5-e7e2-4a81-9a30-c96f7cf730f4"
                  }
                }
              }
            },
            {
              "mapValue": {
                "fields": {
                  "id": {
                    "stringValue": "2171046"
                  },
                  "firstName": {
                    "stringValue": "Maja"
                  },
                  "lastName": {
                    "stringValue": "Rosko"
                  },
                  "gender": {
                    "stringValue": "W"
                  },
                  "fantasyPoints": {
                    "doubleValue": 24.289436012332583
                  },

                  "price": {
                    "integerValue": "5"
                  },
                  "bitID": {
                    "integerValue": "67108864"
                  },
                  "imagePath": {
                    "stringValue": "https://app.germanbeachtour.de/players/img/Maja-Rosko-Blau.png"
                  }
                }
              }
            },
            {
              "mapValue": {
                "fields": {
                  "firstName": {
                    "stringValue": "Sophie"
                  },
                  "imagePath": {
                    "stringValue": "https://firebasestorage.googleapis.com/v0/b/beach-pro-tour-fantasy.appspot.com/o/gbt%2Fplayers%2FSophie-Sarnighausen-Bunt.png?alt=media&token=56330c40-339d-4b61-98c2-61f00aa2d542"
                  },
                  "price": {
                    "integerValue": "5"
                  },
                  "gender": {
                    "stringValue": "W"
                  },
                  "id": {
                    "stringValue": "2116271"
                  },
                  "fantasyPoints": {
                    "doubleValue": 3.9666281829260472
                  },
                  "bitID": {
                    "integerValue": "134217728"
                  },
                  "lastName": {
                    "stringValue": "Sarnighausen"
                  }
                }
              }
            },
            {
              "mapValue": {
                "fields": {
                  "imagePath": {
                    "stringValue": "https://app.germanbeachtour.de/players/img/Lisa-Sophie-Kotzan-Blau.png"
                  },
                  "id": {
                    "stringValue": "2116270"
                  },
                  "bitID": {
                    "integerValue": "268435456"
                  },
                  "lastName": {
                    "stringValue": "Kotzan"
                  },
                  "position": {
                    "stringValue": "Hybrid"
                  },
                  "gender": {
                    "stringValue": "W"
                  },
                  "price": {
                    "integerValue": "10"
                  },
                  "firstName": {
                    "stringValue": "Lisa"
                  },
                  "fantasyPoints": {
                    "doubleValue": 113.55705087385356
                  }
                }
              }
            },
            {
              "mapValue": {
                "fields": {
                  "lastName": {
                    "stringValue": "Schwarz"
                  },
                  "price": {
                    "integerValue": "10"
                  },
                  "imagePath": {
                    "stringValue": "https://firebasestorage.googleapis.com/v0/b/beach-pro-tour-fantasy.appspot.com/o/gbt%2Fplayers%2FTabea-Schwarz-Bunt.png?alt=media&token=76534eec-4e6c-404c-9026-ab77823493aa"
                  },
                  "firstName": {
                    "stringValue": "Tabea"
                  },
                  "position": {
                    "stringValue": "Hybrid"
                  },
                  "gender": {
                    "stringValue": "W"
                  },
                  "bitID": {
                    "integerValue": "536870912"
                  },
                  "fantasyPoints": {
                    "doubleValue": 72.304642595176588
                  },
                  "id": {
                    "stringValue": "2116274"
                  }
                }
              }
            },
            {
              "mapValue": {
                "fields": {
                  "bitID": {
                    "integerValue": "1073741824"
                  },
                  "firstName": {
                    "stringValue": "Tristan"
                  },
                  "price": {
                    "integerValue": "5"
                  },
                  "lastName": {
                    "stringValue": "Fröbel"
                  },
                  "position": {
                    "stringValue": "Block"
                  },
                  "imagePath": {
                    "stringValue": "https://app.germanbeachtour.de/players/img/Tristan-Fr%C3%B6bel-Blau.png"
                  },
                  "gender": {
                    "stringValue": "M"
                  },
                  "id": {
                    "stringValue": "2171041"
                  },
                  "fantasyPoints": {
                    "doubleValue": 17.999920432846054
                  }
                }
              }
            },
            {
              "mapValue": {
                "fields": {
                  "fantasyPoints": {
                    "doubleValue": 26.499992684292387
                  },
                  "lastName": {
                    "stringValue": "Wüst"
                  },
                  "gender": {
                    "stringValue": "M"
                  },
                  "position": {
                    "stringValue": "Abwehr"
                  },
                  "id": {
                    "stringValue": "2170908"
                  },
                  "firstName": {
                    "stringValue": "Tamo"
                  },
                  "imagePath": {
                    "stringValue": "https://firebasestorage.googleapis.com/v0/b/beach-pro-tour-fantasy.appspot.com/o/gbt%2Fplayers%2FTamo-Wuest-Bunt.png?alt=media&token=ce34af7c-a595-42b9-b908-9f44d9013135"
                  },
                  "price": {
                    "integerValue": "5"
                  },
                  "bitID": {
                    "integerValue": "-2147483648"
                  }
                }
              }
            }
          ]
        }
      }
    };

    function parsePlayer(player) {
      const f = player.mapValue.fields;
      return {
        id: f.id.stringValue,
        firstName: f.firstName.stringValue,
        lastName: f.lastName.stringValue,
        position: f.position?.stringValue || "-",
        fantasyPoints: f.fantasyPoints?.doubleValue ?? parseFloat(f.fantasyPoints?.integerValue) ?? 0,
        price: parseInt(f.price?.integerValue) || 0,
        gender: f.gender?.stringValue || "-",
        imagePath: f.imagePath?.stringValue || "",
        pointsPerPrice: 0
      };
    }

    let players = firestoreData.players.arrayValue.values.map(parsePlayer);

    players.forEach(p => {
      p.pointsPerPrice = p.price > 0 ? p.fantasyPoints / p.price : 0;
    });

    function renderPlayers(playersArray) {
      const container = document.getElementById("players");
      container.innerHTML = "";

      playersArray.forEach(p => {
        const card = document.createElement("div");
        card.className = "player-card";
        card.innerHTML = `
        <img src="${p.imagePath}" alt="${p.firstName} ${p.lastName}" />
        <div class="player-name">${p.firstName} ${p.lastName}</div>
        <div class="player-position">${p.position}</div>
        <div>Fantasy Punkte: ${p.fantasyPoints.toFixed(1)}</div>
        <div>Preis: ${p.price} Coins</div>
        <div>Geschlecht: ${p.gender}</div>
        <div><strong>Punkte/Preis:</strong> ${p.pointsPerPrice.toFixed(2)}</div>
      `;
        container.appendChild(card);
      });
    }

    function sortByPoints() {
      players.sort((a, b) => b.fantasyPoints - a.fantasyPoints);
      renderPlayers(players);
    }

    function sortByPointsPerPrice() {
      players.sort((a, b) => b.pointsPerPrice - a.pointsPerPrice);
      renderPlayers(players);
    }

    document.getElementById("sortPoints").addEventListener("click", sortByPoints);
    document.getElementById("sortRatio").addEventListener("click", sortByPointsPerPrice);

    renderPlayers(players);
  </script>